{"version":3,"sources":["firebaseApp.js","components/subcomponents/NavBar.js","components/subcomponents/views/Profile.js","components/subcomponents/ReportChart.js","components/subcomponents/Report.js","components/subcomponents/views/ScanReport.js","courierService.js","components/subcomponents/views/History.js","components/subcomponents/ResourceLink.js","components/subcomponents/views/Resources.js","components/pages/Dashboard.js","components/forms/AuthForm.js","components/pages/SignIn.js","components/pages/SignUp.js","App.js","constants.js","index.js"],"names":["auth","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firebase","fbSignUp","email","password","url","a","createUserWithEmailAndPassword","then","firebaseUser","collection","add","uid","catch","error","alert","err","console","message","fbSignIn","signInWithEmailAndPassword","where","get","userInfo","NavBar","curView","switchView","history","useHistory","class","id","onClick","signOut","push","Profile","for","type","disabled","value","checked","ReportChart","data","chartLabels","chartCounts","key","description","count","chartData","labels","datasets","label","backgroundColor","draw","borderWidth","options","plugins","legend","font","size","Report","Object","keys","map","category","i","el","issueCount","getIssueItemLevel","issueIcon","issueColor","className","items","item","issue","Scan","useState","report","setReport","isScanning","setIsScanning","fetch","res","json","parsedData","categories","reportData","saveReportToDB","method","headers","Accept","Authorization","body","JSON","stringify","event","recipient","brand","profile","log","sendNotification","History","ResourceLink","text","href","target","rel","Resources","Dashboard","setCurView","testEmail","testUrl","testUid","AuthForm","authType","onSubmit","emailRef","passwordRef","urlRef","otherAuthType","otherAuthPrefixText","otherAuthRoute","name","ref","placeholder","to","SignIn","useRef","e","preventDefault","current","user","SignUp","App","setUser","useEffect","onAuthStateChanged","userAuth","src","alt","width","height","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2gBAeMA,G,aADMC,wBATW,CACrBC,OAAQC,0CACRC,WAAYD,gCACZE,UAAWF,gBACXG,cAAeH,4BACfI,kBAAmBJ,eACnBK,MAAOL,8CAIQH,QACXS,EAAKC,cAELC,EAAQ,uCAAG,WAAOC,EAAOC,EAAUC,GAAxB,SAAAC,EAAA,sDACf,IACEf,EAAKgB,+BAA+BJ,EAAOC,GAC1CI,MAAK,SAAAC,GAMJ,OALAT,EAAGU,WAAW,SAASC,IAAI,CACzBC,IAAKH,EAAaG,IAClBT,MAAOM,EAAaN,MACpBE,IAAKA,IAEAI,KAERI,OAAM,SAASC,GACdC,MAAMD,MAER,MAAOE,GACPC,QAAQH,MAAME,GACdD,MAAMC,EAAIE,SAhBG,2CAAH,0DAoBRC,EAAQ,uCAAG,WAAOhB,EAAOC,GAAd,SAAAE,EAAA,sDACf,IACEf,EAAK6B,2BAA2BjB,EAAOC,GACtCI,MAAK,SAAAC,GACJT,EAAGU,WAAW,SACbW,MAAM,MAAO,KAAMZ,EAAaG,KAChCU,MACAd,MAAK,SAAAe,GAAQ,OAAIA,QAEpB,MAAOP,GACPC,QAAQH,MAAME,GACdD,MAAMC,EAAIE,SAXG,2CAAH,wD,8BCDCM,EAhCA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WACnBC,EAAUC,cAOhB,OACE,qBAAIC,MAAM,kBAAkBC,GAAG,mBAA/B,UACE,oBAAID,MAAM,WAAV,SACE,qBAAKA,MAAK,mBAA2B,YAAZJ,EAAyB,SAAW,IAAMM,QAAS,kBAAML,EAAW,YAA7F,0BAEF,oBAAIG,MAAM,WAAV,SACE,qBAAKA,MAAK,mBAA2B,SAAZJ,EAAsB,SAAW,IAAMM,QAAS,kBAAML,EAAW,SAA1F,4BAEF,oBAAIG,MAAM,WAAV,SACE,qBAAKA,MAAK,mBAA2B,YAAZJ,EAAyB,SAAW,IAAMM,QAAS,kBAAML,EAAW,YAA7F,8BAEF,oBAAIG,MAAM,WAAV,SACE,qBAAKA,MAAK,mBAA2B,cAAZJ,EAA2B,SAAW,IAAMM,QAAS,kBAAML,EAAW,cAA/F,yBAEF,oBAAIG,MAAM,WAAV,SACE,qBAAKA,MAAM,oBAEb,oBAAIA,MAAM,WAAWC,GAAG,yBAAxB,SACE,wBAAQC,QAvBE,WD8ChBxC,EAAKyC,UC5CHL,EAAQM,KAAK,YAqBiBJ,MAAM,4BAA4BC,GAAG,eAA/D,4BCLOI,G,OAvBC,SAAC,GAAoB,IAAlB/B,EAAiB,EAAjBA,MAAOE,EAAU,EAAVA,IACtB,OACE,qBAAKyB,GAAG,oBAAR,SACE,iCACE,sBAAKD,MAAM,aAAX,UACE,uBAAOM,IAAI,sBAAX,mBACA,uBAAOC,KAAK,QAAQP,MAAM,eAAeC,GAAG,sBAAsBO,UAAQ,EAACC,MAAOnC,OAEpF,sBAAK0B,MAAM,wBAAX,UACE,uBAAOA,MAAM,mBAAmBO,KAAK,WAAWN,GAAG,iCAAiCS,SAAO,EAACF,UAAQ,IACpG,uBAAOR,MAAM,mBAAmBM,IAAI,iCAApC,wDAIF,sBAAKN,MAAM,aAAX,UACE,uBAAOM,IAAI,oBAAX,yBACA,uBAAOC,KAAK,MAAMP,MAAM,eAAeC,GAAG,oBAAoBO,UAAQ,EAACC,MAAOjC,c,iCCkC3EmC,G,OAhDK,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACjBC,EAAc,GACdC,EAAc,GAElB,IAAI,IAAMC,KAAOH,EACfC,EAAYT,KAAKQ,EAAKG,GAAKC,aAC3BF,EAAYV,KAAKQ,EAAKG,GAAKE,OAG7B,IAAMC,EAAY,CAChBC,OAAQN,EACRO,SAAU,CACR,CACEC,MAAO,cACPT,KAAME,EACNQ,gBAAiB,CACfC,eAAK,OAAQ,qBACbA,eAAK,OAAQ,qBACbA,eAAK,OAAQ,qBACbA,eAAK,WAAY,sBACjBA,eAAK,SAAU,oBACfA,eAAK,SAAU,oBAEjBC,YAAa,KAKnB,OACE,qBAAKvB,GAAG,kBAAR,SACE,cAAC,IAAD,CACEW,KAAMM,EACNO,QAAS,CACPC,QAAS,CACPC,OAAQ,CACNR,OAAQ,CACNS,KAAM,CACJC,KAAM,cCWTC,EAhDA,SAAC,GAAc,IAAZlB,EAAW,EAAXA,KAehB,OACE,sBAAKX,GAAG,mBAAR,UACE,oBAAIA,GAAG,eAAP,0CACA,cAAC,EAAD,CAAaW,KAAMA,IAEjBmB,OAAOC,KAAKpB,GAAMqB,KAAI,SAACC,EAAUC,GAC/B,IAAMC,EAAKxB,EAAKsB,GAChB,EApBkB,SAACG,GACzB,QAAO,GACL,KAAqB,IAAfA,EACJ,MAAO,CAAC,kBAAmB,oBAC7B,KAAOA,EAAc,GAAMA,GAAc,EACvC,MAAO,CAAC,0BAA2B,qBACrC,KAAMA,EAAa,EACjB,MAAO,CAAC,wBAAyB,kBACnC,QACE,MAAO,CAAC,GAAI,KAWsBC,CAAkBF,EAAGnB,OAArD,mBAAOsB,EAAP,KAAkBC,EAAlB,KACA,OACE,sBAAKC,UAAU,iBAAf,UACE,qBAAIA,UAAU,gBAAd,UACE,mBAAGA,UAAS,aAAQF,EAAR,YAAqBC,EAArB,iBACZ,uBAAMC,UAAS,mBAAf,UAAsCL,EAAGpB,YAAzC,OACA,uBAAMyB,UAAU,iBAAhB,cAAmCL,EAAGnB,MAAtC,UAEF,6BAEEc,OAAOC,KAAKI,EAAGM,OAAOT,KAAI,SAACU,EAAMR,GAC/B,IAAMS,EAAQR,EAAGM,MAAMC,GACvB,OACE,qBAAIF,UAAU,aAAd,UAA4BG,EAAM5B,YAAlC,KAAiD4B,EAAM3B,MAAvD,cAX6BkB,UCclCU,EAjCF,SAAC,GAAyB,IAAvB9D,EAAsB,EAAtBA,IAAKT,EAAiB,EAAjBA,MAAOE,EAAU,EAAVA,IAC1B,EAA4BsE,qBAA5B,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAoCF,oBAAS,GAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KAiBA,OACE,sBAAKjD,GAAG,iBAAR,UACI8C,EACE,cAAC,EAAD,CAAQnC,KAAMmC,IACd,wBAAQxC,KAAK,SAASP,MAAM,4BAA4BC,GAAG,WAAWC,QAnB1D,WAClBgD,GAAc,GACdC,MAAM,GAAD,OATQ,sCASR,gBAROtF,eAQP,6BAAgDW,IACpDG,MAAK,SAAAyE,GAEJ,OADAF,GAAc,GACPE,EAAIC,UAEZ1E,MAAK,SAAAiC,GACJ,IAAI0C,EAAa1C,EAAK2C,WACtBP,EAAUM,GLkCO,SAACvE,EAAKyE,GAC3B,IACErF,EAAGU,WAAW,WAAWC,IAAI,CAC3BC,IAAKA,EACLgE,OAAQS,IAEV,MAAMrE,GACNC,QAAQH,MAAME,GACdD,MAAMC,IKzCJsE,CAAe1E,EAAKuE,GCxBM,SAACvE,EAAKT,EAAOE,EAAKuE,GAChD,IAAMtB,EAAU,CACdiC,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYhG,yCAE3BiG,KAAMC,KAAKC,UAAU,CACnBC,MAAOpG,+BACPqG,UAAWnF,EACXoF,MAAOtG,+BACP+C,KAAM,CACJpC,IAAKA,EACLuE,OAAQA,GAEVqB,QAAS,CACP9F,MAAOA,MAKb6E,MAAM,+BAAgC1B,GACnC9C,MAAK,SAAAyE,GAAG,OAAKA,EAAIC,UACjB1E,MAAK,SAAAiC,GAAI,OAAIxB,QAAQiF,IAAIzD,MACzB5B,OAAM,SAAAG,GAAG,OAAIC,QAAQH,MAAME,MDA1BmF,CAAiBvF,EAAKT,EAAOE,EAAKuF,KAAKC,UAAUV,QAQ+C9C,SAAUyC,EAAtG,0BAEFA,EACE,mBAAGhD,GAAG,mBAAN,yBACA,OE1BKsE,EATC,WAEd,OACE,qBAAKtE,GAAG,oBAAR,SACE,sECKSuE,G,cARM,SAAC,GAAmB,IAAjBhG,EAAgB,EAAhBA,IAAKiG,EAAW,EAAXA,KAC3B,OACE,qBAAKhC,UAAU,gBAAf,SACE,mBAAGiC,KAAMlG,EAAKmG,OAAO,SAASC,IAAI,aAAlC,SAAgDH,QCcvCI,EAfG,WAEhB,OACE,sBAAK5E,GAAG,sBAAR,UACE,oBAAIA,GAAG,uBAAP,wCACA,cAAC,EAAD,CAAczB,IAAI,gCAAgCiG,KAAK,oDACvD,cAAC,EAAD,CAAcjG,IAAI,yCAAyCiG,KAAK,gCAChE,cAAC,EAAD,CAAcjG,IAAI,sDAAsDiG,KAAK,kCAC7E,cAAC,EAAD,CAAcjG,IAAI,2BAA2BiG,KAAK,0CAClD,cAAC,EAAD,CAAcjG,IAAI,+BAA+BiG,KAAK,2BACtD,cAAC,EAAD,CAAcjG,IAAI,+CAA+CiG,KAAK,kCCoB7DK,EA1BG,WAChB,MAA8BhC,mBAAS,QAAvC,mBAAOlD,EAAP,KAAgBmF,EAAhB,KAGMC,EAAY,iBACZC,EAAU,0BACVC,EAAU,OAGhB,OACE,qBAAKjF,GAAG,sBAAR,SACE,sBAAKwC,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,SACE,cAAC,EAAD,CAAQ7C,QAASA,EAASC,WAAYkF,MAExC,sBAAKtC,UAAU,MAAf,UACe,YAAZ7C,GAAyB,cAAC,EAAD,CAAStB,MAAO0G,EAAWxG,IAAKyG,IAC7C,SAAZrF,GAAsB,cAAC,EAAD,CAAMb,IAAKmG,EAAS5G,MAAO0G,EAAWxG,IAAKyG,IACrD,YAAZrF,GAAyB,cAAC,EAAD,CAASb,IAAKmG,IAC3B,cAAZtF,GAA2B,cAAC,EAAD,a,cCxBvB,SAASuF,EAAT,GAA8H,IAA1GC,EAAyG,EAAzGA,SAAUC,EAA+F,EAA/FA,SAAUC,EAAqF,EAArFA,SAAUC,EAA2E,EAA3EA,YAAaC,EAA8D,EAA9DA,OAAQC,EAAsD,EAAtDA,cAAeC,EAAuC,EAAvCA,oBAAqBC,EAAkB,EAAlBA,eACxH,OACE,qBAAK1F,GAAG,sBAAsBD,MAAM,OAApC,SACE,0BAASA,MAAM,YAAf,UACE,oBAAIA,MAAM,mCAAV,SAA8CoF,IAC9C,uBAAMC,SAAUA,EAAhB,UACE,qBAAKrF,MAAM,aAAX,SACE,sBAAKA,MAAM,cAAX,UACE,qBAAKA,MAAM,sBAAX,SACI,sBAAMA,MAAM,mBAAZ,SAA+B,mBAAGA,MAAM,mBAE5C,uBACE4F,KAAK,QACLrF,KAAK,QACLsF,IAAKP,EACLQ,YAAY,QACZ9F,MAAM,sBAIZ,qBAAKA,MAAM,aAAX,SACE,sBAAKA,MAAM,cAAX,UACE,qBAAKA,MAAM,sBAAX,SACI,sBAAMA,MAAM,mBAAZ,SAA+B,mBAAGA,MAAM,mBAE5C,uBACE4F,KAAK,WACLrF,KAAK,WACLsF,IAAKN,EACLO,YAAY,WACZ9F,MAAM,sBAIVwF,GACA,qBAAKxF,MAAM,aAAX,SACE,sBAAKA,MAAM,cAAX,UACE,qBAAKA,MAAM,sBAAX,SACI,sBAAMA,MAAM,mBAAZ,SAA+B,mBAAGA,MAAM,mBAE5C,uBACE4F,KAAK,MACLrF,KAAK,MACLsF,IAAKL,EACLM,YAAY,cACZ9F,MAAM,sBAKd,qBAAKA,MAAM,aAAX,SACE,wBAAQO,KAAK,SAASP,MAAM,4BAA5B,SAAyDoF,MAE3D,gCACGM,EADH,qBACyC,cAAC,IAAD,CAAMK,GAAE,WAAMJ,GAAd,SAAiCF,IAD1E,mBClDK,SAASO,IACtB,IAAMlG,EAAUC,cAEVuF,EAAWW,iBAAO,MAClBV,EAAcU,iBAAO,MAY3B,OACE,qBAAKxD,UAAU,eAAf,SACE,cAAC,EAAD,CACE2C,SAAU,UACVC,SAdS,SAACa,GACdA,EAAEC,iBACF7G,EAASgG,EAASc,QAAQ3F,MAAO8E,EAAYa,QAAQ3F,OACpD9B,MAAK,SAAA0H,GACJvG,EAAQM,KAAK,iBACZpB,OAAM,SAAAG,GACPC,QAAQiF,IAAIlF,OASVmG,SAAUA,EACVC,YAAaA,EACbC,OAAQ,KACRC,cAAe,UACfC,oBAAqB,QACrBC,eAAgB,a,OC1BT,SAASW,IACtB,IAAMxG,EAAUC,cAEVuF,EAAWW,iBAAO,MAClBV,EAAcU,iBAAO,MACrBT,EAASS,iBAAO,MAYtB,OACE,qBAAKxD,UAAU,eAAf,SACE,cAAC,EAAD,CACE2C,SAAU,UACVC,SAdS,SAACa,GACdA,EAAEC,iBACF9H,EAASiH,EAASc,QAAQ3F,MAAO8E,EAAYa,QAAQ3F,MAAO+E,EAAOY,QAAQ3F,OAC1E9B,MAAK,SAAA0H,GACJvG,EAAQM,KAAK,iBACZpB,OAAM,SAAAG,GACPC,QAAQiF,IAAIlF,OASVmG,SAAUA,EACVC,YAAaA,EACbC,OAAQA,EACRC,cAAe,UACfC,oBAAqB,UACrBC,eAAgB,aCUTY,MAlCf,WACE,MAAwBzD,mBAAS,MAAjC,mBAAOuD,EAAP,KAAaG,EAAb,KAgBA,OAdAC,qBAAU,WACR/I,EAAKgJ,oBAAmB,SAAAC,GACtB,GAAIA,EAAU,CACZ,IAAMjH,EAAW,CACfX,IAAK4H,EAAS5H,IACdT,MAAOqI,EAASrI,OAElBkI,EAAQ9G,QAER8G,EAAQ,WAGX,IAGD,sBAAK/D,UAAU,UAAf,UACE,sBAAKxC,GAAG,sBAAR,UACE,qBAAK2G,IAAI,8FAA8FC,IAAI,4CAA4CC,MAAO,GAAIC,OAAQ,KAC1K,oBAAI9G,GAAG,YAAP,SC/BgB,YDiClB,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO+G,OAAK,EAACC,KAAK,UAAUC,UAAWlB,IACvC,cAAC,IAAD,CAAOgB,OAAK,EAACC,KAAK,UAAUC,UAAWZ,IACvC,cAAC,IAAD,CAAOU,OAAK,EAACC,KAAM,EAAoBC,UAAWb,EAAOvB,EAAYkB,aEhC/EmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.62fba483.chunk.js","sourcesContent":["import * as firebase from 'firebase';\r\nimport { initializeApp } from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = app.auth();\r\nconst db = firebase.firestore();\r\n\r\nconst fbSignUp = async (email, password, url) => { \r\n  try {\r\n    auth.createUserWithEmailAndPassword(email, password)\r\n    .then(firebaseUser => {\r\n      db.collection(\"users\").add({\r\n        uid: firebaseUser.uid,\r\n        email: firebaseUser.email,\r\n        url: url\r\n      });\r\n      return firebaseUser;\r\n    })\r\n    .catch(function(error) {\r\n      alert(error)\r\n    });\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n}\r\n\r\nconst fbSignIn = async (email, password) => {\r\n  try {\r\n    auth.signInWithEmailAndPassword(email, password)\r\n    .then(firebaseUser => {\r\n      db.collection(\"users\")\r\n      .where(\"uid\", \"==\", firebaseUser.uid)\r\n      .get()\r\n      .then(userInfo => userInfo)\r\n    })  \r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(err.message);\r\n  }\r\n}\r\n\r\nconst fbSignOut = () => {\r\n  auth.signOut();\r\n}\r\n\r\nconst saveReportToDB = (uid, reportData) => {\r\n  try {\r\n    db.collection(\"reports\").add({\r\n      uid: uid,\r\n      report: reportData\r\n    });\r\n  } catch(err) {\r\n    console.error(err);\r\n    alert(err);\r\n  }\r\n}\r\n\r\nconst getReportsByUid = async (uid) => {\r\n  db.collection('reports')\r\n  .where(\"uid\", \"==\", uid)\r\n  .get()\r\n  .then(querySnapshot => {\r\n    const reports = [];\r\n    querySnapshot.forEach(doc => {\r\n      reports.push({\r\n        ...doc.data()\r\n      });\r\n    });\r\n    return reports;\r\n  })\r\n  .catch(err => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nexport { auth, fbSignIn, fbSignUp, fbSignOut, saveReportToDB, getReportsByUid };\r\nexport default db;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { fbSignOut } from '../../firebaseApp';\r\nimport \"./NavBar.css\";\r\n\r\nconst NavBar = ({ curView, switchView }) => {\r\n  const history = useHistory();\r\n\r\n  const signOut = () => {\r\n    fbSignOut();\r\n    history.push('/signin');\r\n  }\r\n\r\n  return (\r\n    <ul class=\"nav flex-column\" id=\"navbar-container\">\r\n      <li class=\"nav-item\">\r\n        <div class={`nav-link ${(curView === \"profile\") ? 'active' : ''}`} onClick={() => switchView(\"profile\")}>My profile</div>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <div class={`nav-link ${(curView === \"scan\") ? 'active' : ''}`} onClick={() => switchView(\"scan\")}>Scan website</div>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <div class={`nav-link ${(curView === \"reports\") ? 'active' : ''}`} onClick={() => switchView(\"reports\")}>Report history</div>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <div class={`nav-link ${(curView === \"resources\") ? 'active' : ''}`} onClick={() => switchView(\"resources\")}>Resources</div>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <div class=\"navbar-spacer\"></div>\r\n      </li>\r\n      <li class=\"nav-item\" id=\"sign-out-btn-container\">\r\n        <button onClick={signOut} class=\"btn btn-primary btn-block\" id=\"sign-out-btn\">Sign out</button>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n      \r\nexport default NavBar;","import React from 'react';\r\nimport './Profile.css';\r\n\r\nconst Profile = ({ email, url }) => {\r\n    return (\r\n      <div id=\"profile-container\">\r\n        <form>\r\n          <div class=\"form-group\">\r\n            <label for=\"profile-email-field\">Email</label>\r\n            <input type=\"email\" class=\"form-control\" id=\"profile-email-field\" disabled value={email} />\r\n          </div>\r\n          <div class=\"form-check form-group\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"receive-notifications-checkbox\" checked disabled />\r\n            <label class=\"form-check-label\" for=\"receive-notifications-checkbox\">\r\n              Receive accessibility reports via email\r\n            </label>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"profile-url-field\">Website URL</label>\r\n            <input type=\"url\" class=\"form-control\" id=\"profile-url-field\" disabled value={url} />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n};\r\n      \r\nexport default Profile;","import React from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { draw } from 'patternomaly';\r\nimport './ReportChart.css';\r\n\r\nconst ReportChart = ({ data }) => {\r\n  var chartLabels = [];\r\n  var chartCounts = [];\r\n\r\n  for(const key in data) {\r\n    chartLabels.push(data[key].description);\r\n    chartCounts.push(data[key].count);\r\n  }\r\n\r\n  const chartData = {\r\n    labels: chartLabels,\r\n    datasets: [\r\n      {\r\n        label: \"# of Issues\",\r\n        data: chartCounts,\r\n        backgroundColor: [\r\n          draw('plus', 'rgb(255, 99, 132)'),\r\n          draw('dash', 'rgb(54, 162, 235)'),\r\n          draw('disc', 'rgb(255, 206, 86)'),\r\n          draw('triangle', 'rgb(153, 102, 255)'),\r\n          draw('zigzag', 'rgb(50, 168, 82)'),\r\n          draw('square', 'rgb(91, 94, 92)') \r\n        ],\r\n        borderWidth: 1\r\n      }\r\n    ]\r\n  }\r\n\r\n  return (\r\n    <div id=\"chart-container\">\r\n      <Doughnut \r\n        data={chartData} \r\n        options={{\r\n          plugins: {\r\n            legend: {\r\n              labels: {\r\n                font: {\r\n                  size: 24\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ReportChart;","import React from 'react';\r\nimport './Report.css';\r\n\r\nimport ReportChart from './ReportChart';\r\n\r\nconst Report = ({ data }) => {\r\n\r\n  const getIssueItemLevel = (issueCount) => {\r\n    switch(true) {\r\n      case (issueCount === 0):\r\n        return [\"fa-check-square\", \"issue-item-green\"];\r\n      case ((issueCount) > 0 && (issueCount <= 3)):\r\n        return [\"fa-exclamation-triangle\", \"issue-item-yellow\"];\r\n      case (issueCount > 3):\r\n        return [\"fa-exclamation-circle\", \"issue-item-red\"];\r\n      default:\r\n        return [\"\", \"\"];\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"report-container\">\r\n      <h2 id=\"report-title\">Website Accessibility Report</h2>\r\n      <ReportChart data={data} />\r\n      {\r\n        Object.keys(data).map((category, i) => {\r\n          const el = data[category];\r\n          const [issueIcon, issueColor] = getIssueItemLevel(el.count);\r\n          return (\r\n            <div className=\"report-section\" key={i}>\r\n              <h4 className=\"category-item\">\r\n                <i className={`fa ${issueIcon} ${issueColor} issue-icon`}></i>\r\n                <span className={`category-heading`}>{el.description} </span> \r\n                <span className=\"category-count\">({el.count})</span>\r\n              </h4>\r\n              <ul>\r\n              {\r\n                Object.keys(el.items).map((item, i) => {\r\n                  const issue = el.items[item];\r\n                  return (\r\n                    <li className=\"issue-item\">{issue.description} ({issue.count})</li>\r\n                  )\r\n                })\r\n              }\r\n              </ul>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n};\r\n      \r\nexport default Report;","import React, { useState } from 'react';\r\nimport { saveReportToDB } from '../../../firebaseApp';\r\nimport { sendNotification } from '../../../courierService';\r\nimport './ScanReport.css';\r\n\r\nimport Report from '../Report';\r\n\r\nconst BASE_URL = \"https://wave.webaim.org/api/request\";\r\nconst API_KEY = process.env.REACT_APP_WAVE_API_KEY;\r\n\r\nconst Scan = ({ uid, email, url }) => {\r\n  const [report, setReport] = useState();\r\n  const [isScanning, setIsScanning] = useState(false);\r\n\r\n  const scanWebsite = () => { \r\n    setIsScanning(true);\r\n    fetch(`${BASE_URL}?key=${API_KEY}&reporttype=2&url=${url}`)\r\n    .then(res => {\r\n      setIsScanning(false);\r\n      return res.json();\r\n    })\r\n    .then(data => {\r\n      var parsedData = data.categories;\r\n      setReport(parsedData);\r\n      saveReportToDB(uid, parsedData);\r\n      sendNotification(uid, email, url, JSON.stringify(parsedData));\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div id=\"scan-container\">\r\n      { report \r\n        ? <Report data={report} />\r\n        : <button type=\"submit\" class=\"btn btn-primary btn-block\" id=\"scan-btn\" onClick={scanWebsite} disabled={isScanning}>Scan Website</button>\r\n      }\r\n      { isScanning\r\n        ? <p id=\"scanning-message\">Scanning...</p>\r\n        : \"\"\r\n      }\r\n    </div>\r\n  );\r\n};\r\n      \r\nexport default Scan;","export const sendNotification = (uid, email, url, report) => {\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${process.env.REACT_APP_COURIER_AUTH_TOKEN}`\r\n    },\r\n    body: JSON.stringify({\r\n      event: process.env.REACT_APP_COURIER_NOTIFICATION_ID,\r\n      recipient: uid,\r\n      brand: process.env.REACT_APP_COURIER_BRAND,\r\n      data: {\r\n        url: url, \r\n        report: report\r\n      },\r\n      profile: {\r\n        email: email\r\n      }\r\n    }) \r\n  };\r\n\r\n  fetch('https://api.courier.com/send', options)\r\n    .then(res =>  res.json())\r\n    .then(data => console.log(data))\r\n    .catch(err => console.error(err))\r\n}\r\n","import React from 'react';\r\n\r\nconst History = () => {\r\n\r\n  return (\r\n    <div id=\"history-container\">\r\n      <p>This page is under construction :(</p>\r\n    </div>\r\n  );\r\n};\r\n      \r\nexport default History;","import React from 'react';\r\nimport \"./ResourceLink.css\";\r\n\r\nconst ResourceLink = ({ url, text }) => {\r\n  return (\r\n    <div className=\"resource-link\">\r\n      <a href={url} target=\"_blank\" rel=\"noreferrer\">{text}</a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResourceLink;","import React from 'react';\r\nimport './Resources.css';\r\n\r\nimport ResourceLink from '../ResourceLink';\r\n\r\nconst Resources = () => {\r\n\r\n  return (\r\n    <div id=\"resources-container\">\r\n      <h2 id=\"resources-page-title\">Web Accessbility Resources</h2>\r\n      <ResourceLink url=\"https://www.w3.org/TR/WCAG21/\" text=\"Web Content Accessibility Guidelines (WCAG) 2.1\" />\r\n      <ResourceLink url=\"https://www.a11yproject.com/checklist/\" text=\"The A11Y Project: Checklist\" />\r\n      <ResourceLink url=\"https://www.ibm.com/able/requirements/requirements/\" text=\"IBM Accesibility Requirements\" />\r\n      <ResourceLink url=\"https://wave.webaim.org/\" text=\"WAVE Web Accesibility Evaluation Tool\" />\r\n      <ResourceLink url=\"https://contrastchecker.com/\" text=\"Color Contrast Checker\" />\r\n      <ResourceLink url=\"https://www.toptal.com/designers/colorfilter\" text=\"Toptal Color Blind Filter\" />\r\n    </div>\r\n  );\r\n};\r\n      \r\nexport default Resources;","import React, { useState } from 'react';\r\nimport './Dashboard.css';\r\n\r\nimport NavBar from '../subcomponents/NavBar';\r\nimport Profile from '../subcomponents/views/Profile';\r\nimport Scan from '../subcomponents/views/ScanReport';\r\nimport History from '../subcomponents/views/History';\r\nimport Resources from '../subcomponents/views/Resources';\r\n\r\nconst Dashboard = () => {\r\n  const [curView, setCurView] = useState(\"scan\");\r\n\r\n  // FOR TESTING  //\r\n  const testEmail = \"test@email.com\";\r\n  const testUrl = \"https://www.google.com/\";\r\n  const testUid = \"1234\";\r\n  // FOR TESTING //\r\n\r\n  return (\r\n    <div id=\"dashboard-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-2\">\r\n          <NavBar curView={curView} switchView={setCurView} />\r\n        </div>\r\n        <div className=\"col\">\r\n          {curView === \"profile\" && <Profile email={testEmail} url={testUrl}></Profile>}\r\n          {curView === \"scan\" && <Scan uid={testUid} email={testEmail} url={testUrl}></Scan>}\r\n          {curView === \"reports\" && <History uid={testUid}></History>}\r\n          {curView === \"resources\" && <Resources></Resources>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n      \r\nexport default Dashboard;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './AuthForm.css';\r\n\r\nexport default function AuthForm({ authType, onSubmit, emailRef, passwordRef, urlRef, otherAuthType, otherAuthPrefixText, otherAuthRoute }) {\r\n  return (\r\n    <div id=\"auth-form-container\" class=\"card\">\r\n      <article class=\"card-body\">\r\n        <h4 class=\"card-title text-center mb-4 mt-1\">{authType}</h4>\r\n        <form onSubmit={onSubmit}>\r\n          <div class=\"form-group\">\r\n            <div class=\"input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fa fa-user\"></i></span>\r\n              </div>\r\n              <input \r\n                name=\"email\" \r\n                type=\"email\"\r\n                ref={emailRef}\r\n                placeholder=\"Email\"\r\n                class=\"form-control\"\r\n              />\r\n            </div> \r\n          </div> \r\n          <div class=\"form-group\">\r\n            <div class=\"input-group\">\r\n              <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fa fa-lock\"></i></span>\r\n              </div>\r\n              <input \r\n                name=\"password\"\r\n                type=\"password\"\r\n                ref={passwordRef}\r\n                placeholder=\"Password\"\r\n                class=\"form-control\"\r\n              />\r\n            </div> \r\n          </div> \r\n          { urlRef && \r\n            <div class=\"form-group\">\r\n              <div class=\"input-group\">\r\n                <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"><i class=\"fa fa-link\"></i></span>\r\n                </div>\r\n                <input \r\n                  name=\"url\"\r\n                  type=\"url\"\r\n                  ref={urlRef}\r\n                  placeholder=\"Website URL\"\r\n                  class=\"form-control\"\r\n                />\r\n              </div> \r\n            </div> \r\n          }\r\n          <div class=\"form-group\">\r\n            <button type=\"submit\" class=\"btn btn-primary btn-block\">{authType}</button>\r\n          </div>\r\n          <div>\r\n            {otherAuthPrefixText} have an account? <Link to={`/${otherAuthRoute}`}>{otherAuthType}</Link> now.\r\n          </div>\r\n        </form>\r\n      </article>\r\n    </div>\r\n  )\r\n}","import React, { useRef }  from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { fbSignIn } from '../../firebaseApp';\r\nimport './SignIn.css';\r\n\r\nimport AuthForm from '../forms/AuthForm';\r\n\r\nexport default function SignIn() {\r\n  const history = useHistory();\r\n\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n\r\n  const signIn = (e) => {\r\n    e.preventDefault();\r\n    fbSignIn(emailRef.current.value, passwordRef.current.value)\r\n    .then(user => {\r\n      history.push('/dashboard');\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  return(\r\n    <div className=\"auth-wrapper\">\r\n      <AuthForm \r\n        authType={\"Sign in\"} \r\n        onSubmit={signIn} \r\n        emailRef={emailRef} \r\n        passwordRef={passwordRef} \r\n        urlRef={null}\r\n        otherAuthType={\"Sign up\"}\r\n        otherAuthPrefixText={\"Don't\"}\r\n        otherAuthRoute={\"signup\"} \r\n      />\r\n    </div>\r\n  )\r\n}","import React, { useRef }  from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { fbSignUp } from '../../firebaseApp';\r\nimport './SignUp.css';\r\n\r\nimport AuthForm from '../forms/AuthForm';\r\n\r\nexport default function SignUp() {\r\n  const history = useHistory();\r\n\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n  const urlRef = useRef(null);\r\n\r\n  const signUp = (e) => {\r\n    e.preventDefault();\r\n    fbSignUp(emailRef.current.value, passwordRef.current.value, urlRef.current.value)\r\n    .then(user => {\r\n      history.push('/dashboard');\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  return(\r\n    <div className=\"auth-wrapper\">\r\n      <AuthForm \r\n        authType={\"Sign up\"} \r\n        onSubmit={signUp} \r\n        emailRef={emailRef} \r\n        passwordRef={passwordRef} \r\n        urlRef={urlRef}\r\n        otherAuthType={\"Sign in\"}\r\n        otherAuthPrefixText={\"Already\"}\r\n        otherAuthRoute={\"signin\"} \r\n      />\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { auth } from './firebaseApp';\nimport './App.css';\nimport { APP_NAME } from './constants';\n\nimport Dashboard from './components/pages/Dashboard';\nimport SignIn from './components/pages/SignIn';\nimport SignUp from './components/pages/SignUp';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    auth.onAuthStateChanged(userAuth => {\n      if (userAuth) {\n        const userInfo = {\n          uid: userAuth.uid,\n          email: userAuth.email\n        }\n        setUser(userInfo);\n      } else {\n        setUser(null);\n      }\n    })\n  }, []);\n\n  return (\n    <div className=\"wrapper\">\n      <div id=\"title-img-container\">\n        <img src=\"https://www.akeaweb.com/wp-content/uploads/2018/02/akea-services-web-accessibility-wcag.png\" alt=\"Accessibility icon: person in blue circle\" width={60} height={60} />\n        <h1 id=\"app-title\">{APP_NAME}</h1>\n      </div>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/signin\" component={SignIn} />\n          <Route exact path=\"/signup\" component={SignUp} />\n          <Route exact path={\"/\" | \"/dashboard\"} component={user ? Dashboard : SignIn} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","export const APP_NAME = \"Ally\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}